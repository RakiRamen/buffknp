(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const a of l.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function e(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerPolicy&&(l.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?l.credentials="include":r.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(r){if(r.ep)return;r.ep=!0;const l=e(r);fetch(r.href,l)}})();const m=""+new URL("Interject-DYbtgt1N.png",import.meta.url).href,b=Object.freeze(Object.defineProperty({__proto__:null,default:m},Symbol.toStringTag,{value:"Module"})),y=""+new URL("Low_Blow-BbuGOwKR.png",import.meta.url).href,v=Object.freeze(Object.defineProperty({__proto__:null,default:y},Symbol.toStringTag,{value:"Module"})),S=""+new URL("Provoke-CmYZ58v9.png",import.meta.url).href,h=Object.freeze(Object.defineProperty({__proto__:null,default:S},Symbol.toStringTag,{value:"Module"})),L=""+new URL("Shirk-DLC_7bL4.png",import.meta.url).href,w=Object.freeze(Object.defineProperty({__proto__:null,default:L},Symbol.toStringTag,{value:"Module"})),O=""+new URL("armslength-IW1dOkif.png",import.meta.url).href,j=Object.freeze(Object.defineProperty({__proto__:null,default:O},Symbol.toStringTag,{value:"Module"})),P=""+new URL("rampart-BExEwZPx.png",import.meta.url).href,T=Object.freeze(Object.defineProperty({__proto__:null,default:P},Symbol.toStringTag,{value:"Module"})),R=""+new URL("reprisal-G_56GzpX.png",import.meta.url).href,D=Object.freeze(Object.defineProperty({__proto__:null,default:R},Symbol.toStringTag,{value:"Module"})),B=""+new URL("Dark_Mind-DBsGP-kP.png",import.meta.url).href,M=Object.freeze(Object.defineProperty({__proto__:null,default:B},Symbol.toStringTag,{value:"Module"})),k=""+new URL("Dark_Missionary-vPSZIJuC.png",import.meta.url).href,N=Object.freeze(Object.defineProperty({__proto__:null,default:k},Symbol.toStringTag,{value:"Module"})),x=""+new URL("Living_Dead-y6AbX0wn.png",import.meta.url).href,A=Object.freeze(Object.defineProperty({__proto__:null,default:x},Symbol.toStringTag,{value:"Module"})),C=""+new URL("Oblation-8xV2dEaY.png",import.meta.url).href,z=Object.freeze(Object.defineProperty({__proto__:null,default:C},Symbol.toStringTag,{value:"Module"})),E=""+new URL("Shadowed_Vigil-wtMZcRhC.png",import.meta.url).href,I=Object.freeze(Object.defineProperty({__proto__:null,default:E},Symbol.toStringTag,{value:"Module"})),U=""+new URL("The_Blackest_Night-llZDtqHS.png",import.meta.url).href,H=Object.freeze(Object.defineProperty({__proto__:null,default:U},Symbol.toStringTag,{value:"Module"})),G=""+new URL("Aurora-t3JTxq-F.png",import.meta.url).href,q=Object.freeze(Object.defineProperty({__proto__:null,default:G},Symbol.toStringTag,{value:"Module"})),K=""+new URL("Camouflage-D1rDwGWD.png",import.meta.url).href,$=Object.freeze(Object.defineProperty({__proto__:null,default:K},Symbol.toStringTag,{value:"Module"})),W=""+new URL("Great_Nebula--ngC7C39.png",import.meta.url).href,V=Object.freeze(Object.defineProperty({__proto__:null,default:W},Symbol.toStringTag,{value:"Module"})),J=""+new URL("Heart_of_Corundum-DNuQfFTC.png",import.meta.url).href,Z=Object.freeze(Object.defineProperty({__proto__:null,default:J},Symbol.toStringTag,{value:"Module"})),F=""+new URL("Heart_of_Light-Gk1iGjqU.png",import.meta.url).href,Y=Object.freeze(Object.defineProperty({__proto__:null,default:F},Symbol.toStringTag,{value:"Module"})),X=""+new URL("Superbolide-CVhSZdjx.png",import.meta.url).href,Q=Object.freeze(Object.defineProperty({__proto__:null,default:X},Symbol.toStringTag,{value:"Module"})),ee=""+new URL("Bulwark-CP_2RQc-.png",import.meta.url).href,te=Object.freeze(Object.defineProperty({__proto__:null,default:ee},Symbol.toStringTag,{value:"Module"})),oe=""+new URL("Clemency-2akMjr4h.png",import.meta.url).href,ne=Object.freeze(Object.defineProperty({__proto__:null,default:oe},Symbol.toStringTag,{value:"Module"})),re=""+new URL("Cover-BDy2WWWj.png",import.meta.url).href,le=Object.freeze(Object.defineProperty({__proto__:null,default:re},Symbol.toStringTag,{value:"Module"})),ae=""+new URL("Divine_Veil-D5O025SX.png",import.meta.url).href,ie=Object.freeze(Object.defineProperty({__proto__:null,default:ae},Symbol.toStringTag,{value:"Module"})),ce=""+new URL("Guardian-BssR6680.png",import.meta.url).href,se=Object.freeze(Object.defineProperty({__proto__:null,default:ce},Symbol.toStringTag,{value:"Module"})),_e=""+new URL("Hallowed_Ground-CPNOi7GI.png",import.meta.url).href,ue=Object.freeze(Object.defineProperty({__proto__:null,default:_e},Symbol.toStringTag,{value:"Module"})),de=""+new URL("Holy_Sheltron-DmfpgMYb.png",import.meta.url).href,ge=Object.freeze(Object.defineProperty({__proto__:null,default:de},Symbol.toStringTag,{value:"Module"})),pe=""+new URL("Intervention-DJYxiZCx.png",import.meta.url).href,fe=Object.freeze(Object.defineProperty({__proto__:null,default:pe},Symbol.toStringTag,{value:"Module"})),me=""+new URL("Passage_of_Arms-x8qXkDKf.png",import.meta.url).href,be=Object.freeze(Object.defineProperty({__proto__:null,default:me},Symbol.toStringTag,{value:"Module"})),ye=""+new URL("Bloodwhetting-DBA_lQxH.png",import.meta.url).href,ve=Object.freeze(Object.defineProperty({__proto__:null,default:ye},Symbol.toStringTag,{value:"Module"})),Se=""+new URL("Damnation-BZi3kLkH.png",import.meta.url).href,he=Object.freeze(Object.defineProperty({__proto__:null,default:Se},Symbol.toStringTag,{value:"Module"})),Le=""+new URL("Holmgang-qLVza727.png",import.meta.url).href,we=Object.freeze(Object.defineProperty({__proto__:null,default:Le},Symbol.toStringTag,{value:"Module"})),Oe=""+new URL("Nascent_Flash-yJ8n5Xgq.png",import.meta.url).href,je=Object.freeze(Object.defineProperty({__proto__:null,default:Oe},Symbol.toStringTag,{value:"Module"})),Pe=""+new URL("Shake_It_Off-DRs1wmck.png",import.meta.url).href,Te=Object.freeze(Object.defineProperty({__proto__:null,default:Pe},Symbol.toStringTag,{value:"Module"})),Re=""+new URL("Thrill_of_Battle-CqlESk3N.png",import.meta.url).href,De=Object.freeze(Object.defineProperty({__proto__:null,default:Re},Symbol.toStringTag,{value:"Module"})),u=Object.assign({"./icons/ALL TANK/Interject.png":b,"./icons/ALL TANK/Low_Blow.png":v,"./icons/ALL TANK/Provoke.png":h,"./icons/ALL TANK/Shirk.png":w,"./icons/ALL TANK/armslength.png":j,"./icons/ALL TANK/rampart.png":T,"./icons/ALL TANK/reprisal.png":D,"./icons/DRK/Dark_Mind.png":M,"./icons/DRK/Dark_Missionary.png":N,"./icons/DRK/Living_Dead.png":A,"./icons/DRK/Oblation.png":z,"./icons/DRK/Shadowed_Vigil.png":I,"./icons/DRK/The_Blackest_Night.png":H,"./icons/GNB/Aurora.png":q,"./icons/GNB/Camouflage.png":$,"./icons/GNB/Great_Nebula.png":V,"./icons/GNB/Heart_of_Corundum.png":Z,"./icons/GNB/Heart_of_Light.png":Y,"./icons/GNB/Superbolide.png":Q,"./icons/PLD/Bulwark.png":te,"./icons/PLD/Clemency.png":ne,"./icons/PLD/Cover.png":le,"./icons/PLD/Divine_Veil.png":ie,"./icons/PLD/Guardian.png":se,"./icons/PLD/Hallowed_Ground.png":ue,"./icons/PLD/Holy_Sheltron.png":ge,"./icons/PLD/Intervention.png":fe,"./icons/PLD/Passage_of_Arms.png":be,"./icons/WAR/Bloodwhetting.png":ve,"./icons/WAR/Damnation.png":he,"./icons/WAR/Holmgang.png":we,"./icons/WAR/Nascent_Flash.png":je,"./icons/WAR/Shake_It_Off.png":Te,"./icons/WAR/Thrill_of_Battle.png":De}),c={};let s=null;for(const t in u){const o=u[t].default||u[t],e=t.split("/"),n=e[e.length-2],r=e[e.length-1].replace(".png","");c[n]||(c[n]=[]),c[n].push({name:r,file:o})}window.addRow=function(t="",o=[],e="",n="none"){const r=document.getElementById("tableBody"),l="row-"+Date.now()+Math.random().toString(36).substr(2,5),a=document.createElement("tr");let i="";n==="important"&&(i="is-important"),n==="caution"&&(i="is-caution"),a.className=`border-b border-slate-200 draggable-row ${i}`,a.id=l,a.draggable=!0,a.addEventListener("click",()=>{_(l)}),a.innerHTML=`
        <td class="text-center drag-handle font-bold text-slate-300 col-drag">â ¿</td>
        <td class="p-0 col-timeline"><input type="text" class="compact-input text-enemy outline-none px-2" value="${t}"></td>
        <td class="p-0 col-buff"><div class="flex flex-wrap gap-1 buff-container min-h-[40px] items-center px-1"></div></td>
        <td class="p-0 col-memo"><input type="text" class="compact-input text-memo outline-none px-2" value="${e}"></td>
        <td class="p-0 col-mark">
            <div class="flex items-center justify-center gap-1 w-full h-full">
                <button onclick="toggleRowStatus('${l}', 'important'); event.stopPropagation();" class="mark-btn text-lg btn-star">${n==="important"?"â­":"â˜†"}</button>
                <button onclick="toggleRowStatus('${l}', 'caution'); event.stopPropagation();" class="mark-btn text-lg btn-circle">${n==="caution"?"ğŸ”´":"âšª"}</button>
            </div>
        </td>
        <td class="text-center col-delete"><button onclick="document.getElementById('${l}').remove(); event.stopPropagation();" class="text-slate-300 hover:text-red-500 text-xs px-2">âœ•</button></td>
    `,r.appendChild(a);const p=a.querySelector(".buff-container");o&&o.length>0&&o.forEach(f=>g(p,f,l)),_(l)};window.toggleRowStatus=function(t,o){const e=document.getElementById(t);if(!e)return;const n=e.querySelector(".btn-star"),r=e.querySelector(".btn-circle"),l=e.classList.contains("is-important"),a=e.classList.contains("is-caution");e.classList.remove("is-important","is-caution"),n.innerText="â˜†",r.innerText="âšª",o==="important"&&!l?(e.classList.add("is-important"),n.innerText="â­"):o==="caution"&&!a&&(e.classList.add("is-caution"),r.innerText="ğŸ”´"),_(t)};function Be(){const t=document.getElementById("jobPaletteSection");t&&(t.innerHTML="",Object.keys(c).sort().forEach(o=>{const e=document.createElement("div");e.className="job-container";const n=document.createElement("button");n.className="job-header-btn",n.innerHTML=`<span>${o}</span><span style="font-size:10px; opacity:0.4">â–¼</span>`,n.onclick=()=>{const l=e.classList.toggle("active");n.classList.toggle("active",l)};const r=document.createElement("div");r.className="job-icon-grid",c[o].forEach(l=>{const a=document.createElement("img");a.src=l.file,a.dataset.rawSrc=l.file,a.className="icon-btn",a.title=l.name,a.onclick=i=>{i.preventDefault(),i.stopPropagation(),Me(l.file)},r.appendChild(a)}),e.appendChild(n),e.appendChild(r),t.appendChild(e)}))}function _(t){s=t,document.querySelectorAll("#tableBody tr").forEach(e=>e.classList.remove("selected-row"));const o=document.getElementById(t);o&&o.classList.add("selected-row")}function Me(t){s||window.addRow();const o=document.querySelector(`#${s} .buff-container`);o&&g(o,t,s)}function g(t,o,e){const n=document.createElement("img");n.src=o,n.dataset.rawSrc=o,n.className="buff-icon",n.onclick=r=>{r.stopPropagation(),_(e),n.remove()},t.appendChild(n)}window.saveData=function(){const t=document.getElementById("bossName").value.trim();if(!t)return alert("ã‚³ãƒ³ãƒ†ãƒ³ãƒ„åã‚’å…¥åŠ›ã—ã¦ãã ã•ã„");const o=Array.from(document.querySelectorAll("#tableBody tr")).map(e=>({enemySkill:e.querySelector(".text-enemy").value,memo:e.querySelector(".text-memo").value,status:e.classList.contains("is-important")?"important":e.classList.contains("is-caution")?"caution":"none",buffs:Array.from(e.querySelectorAll(".buff-container img")).map(n=>n.dataset.rawSrc)}));localStorage.setItem(`ff14_kanpe_${t}`,JSON.stringify(o)),d(),alert(`ã€Œ${t}ã€ã‚’ä¿å­˜ã—ã¾ã—ãŸ`)};window.loadData=function(){const t=document.getElementById("saveList").value;if(!t)return;const o=localStorage.getItem(`ff14_kanpe_${t}`);o&&(document.getElementById("tableBody").innerHTML="",JSON.parse(o).forEach(e=>window.addRow(e.enemySkill,e.buffs,e.memo,e.status)),document.getElementById("bossName").value=t)};function d(){const t=document.getElementById("saveList");if(!t)return;t.innerHTML='<option value="">-- ä¿å­˜æ¸ˆãƒ‡ãƒ¼ã‚¿ --</option>';const o=[];for(let e=0;e<localStorage.length;e++){const n=localStorage.key(e);n&&n.startsWith("ff14_kanpe_")&&o.push(n.replace("ff14_kanpe_",""))}o.sort().forEach(e=>t.add(new Option(e,e)))}function ke(){const t=document.getElementById("tableBody");t.addEventListener("dragover",o=>{o.preventDefault();const e=document.querySelector(".dragging"),n=o.target.closest("tr");if(n&&n!==e){const r=n.getBoundingClientRect(),l=(o.clientY-r.top)/(r.bottom-r.top)>.5;t.insertBefore(e,l?n.nextSibling:n)}}),t.addEventListener("dragstart",o=>{o.target.closest("tr").classList.add("dragging")}),t.addEventListener("dragend",o=>{o.target.closest("tr").classList.remove("dragging")})}window.deleteData=function(){const t=document.getElementById("saveList").value;t&&confirm("ä¿å­˜ã•ã‚Œã¦ã„ã‚‹ãƒ‡ãƒ¼ã‚¿ã‚’å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿ")&&(localStorage.removeItem(`ff14_kanpe_${t}`),d(),window.clearCurrentTable(!0))};window.clearCurrentTable=function(t){document.getElementById("tableBody").innerHTML="",t&&(document.getElementById("bossName").value="",window.addRow())};document.addEventListener("DOMContentLoaded",()=>{Be(),d(),window.clearCurrentTable(!0),ke()});
