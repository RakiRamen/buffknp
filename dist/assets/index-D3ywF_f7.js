(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const a of l.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function e(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerPolicy&&(l.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?l.credentials="include":r.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(r){if(r.ep)return;r.ep=!0;const l=e(r);fetch(r.href,l)}})();const p=""+new URL("Dark_Mind-DBsGP-kP.png",import.meta.url).href,m=Object.freeze(Object.defineProperty({__proto__:null,default:p},Symbol.toStringTag,{value:"Module"})),b=""+new URL("Dark_Missionary-vPSZIJuC.png",import.meta.url).href,y=Object.freeze(Object.defineProperty({__proto__:null,default:b},Symbol.toStringTag,{value:"Module"})),w=""+new URL("Living_Dead-y6AbX0wn.png",import.meta.url).href,h=Object.freeze(Object.defineProperty({__proto__:null,default:w},Symbol.toStringTag,{value:"Module"})),v=""+new URL("Oblation-8xV2dEaY.png",import.meta.url).href,S=Object.freeze(Object.defineProperty({__proto__:null,default:v},Symbol.toStringTag,{value:"Module"})),L=""+new URL("Shadowed_Vigil-wtMZcRhC.png",import.meta.url).href,O=Object.freeze(Object.defineProperty({__proto__:null,default:L},Symbol.toStringTag,{value:"Module"})),T=""+new URL("The_Blackest_Night-llZDtqHS.png",import.meta.url).href,j=Object.freeze(Object.defineProperty({__proto__:null,default:T},Symbol.toStringTag,{value:"Module"})),x=""+new URL("Aurora-t3JTxq-F.png",import.meta.url).href,B=Object.freeze(Object.defineProperty({__proto__:null,default:x},Symbol.toStringTag,{value:"Module"})),E=""+new URL("Heart_of_Corundum-DNuQfFTC.png",import.meta.url).href,N=Object.freeze(Object.defineProperty({__proto__:null,default:E},Symbol.toStringTag,{value:"Module"})),R=""+new URL("Heart_of_Light-Gk1iGjqU.png",import.meta.url).href,I=Object.freeze(Object.defineProperty({__proto__:null,default:R},Symbol.toStringTag,{value:"Module"})),M=""+new URL("Superbolide-CVhSZdjx.png",import.meta.url).href,k=Object.freeze(Object.defineProperty({__proto__:null,default:M},Symbol.toStringTag,{value:"Module"})),P=""+new URL("Interject-DYbtgt1N.png",import.meta.url).href,D=Object.freeze(Object.defineProperty({__proto__:null,default:P},Symbol.toStringTag,{value:"Module"})),A=""+new URL("Low_Blow-BbuGOwKR.png",import.meta.url).href,C=Object.freeze(Object.defineProperty({__proto__:null,default:A},Symbol.toStringTag,{value:"Module"})),z=""+new URL("Provoke-CmYZ58v9.png",import.meta.url).href,U=Object.freeze(Object.defineProperty({__proto__:null,default:z},Symbol.toStringTag,{value:"Module"})),q=""+new URL("Shirk-DLC_7bL4.png",import.meta.url).href,K=Object.freeze(Object.defineProperty({__proto__:null,default:q},Symbol.toStringTag,{value:"Module"})),H=""+new URL("armslength-IW1dOkif.png",import.meta.url).href,$=Object.freeze(Object.defineProperty({__proto__:null,default:H},Symbol.toStringTag,{value:"Module"})),G=""+new URL("rampart-BExEwZPx.png",import.meta.url).href,J=Object.freeze(Object.defineProperty({__proto__:null,default:G},Symbol.toStringTag,{value:"Module"})),Z=""+new URL("reprisal-G_56GzpX.png",import.meta.url).href,V=Object.freeze(Object.defineProperty({__proto__:null,default:Z},Symbol.toStringTag,{value:"Module"})),c=Object.assign({"./icons/DRK/Dark_Mind.png":m,"./icons/DRK/Dark_Missionary.png":y,"./icons/DRK/Living_Dead.png":h,"./icons/DRK/Oblation.png":S,"./icons/DRK/Shadowed_Vigil.png":O,"./icons/DRK/The_Blackest_Night.png":j,"./icons/GNB/Aurora.png":B,"./icons/GNB/Heart_of_Corundum.png":N,"./icons/GNB/Heart_of_Light.png":I,"./icons/GNB/Superbolide.png":k,"./icons/TANK/Interject.png":D,"./icons/TANK/Low_Blow.png":C,"./icons/TANK/Provoke.png":U,"./icons/TANK/Shirk.png":K,"./icons/TANK/armslength.png":$,"./icons/TANK/rampart.png":J,"./icons/TANK/reprisal.png":V}),i={};for(const t in c){const o=t.split("/"),e=o[o.length-2],n=o[o.length-1].replace(".png","");i[e]||(i[e]=[]);const r=c[t].default||c[t];i[e].push({name:n,file:r})}let s=null;window.addRow=function(t="",o=[],e="",n=!1){const r=document.getElementById("tableBody"),l="row-"+Date.now()+Math.random().toString(36).substr(2,5),a=document.createElement("tr");a.className=`border-b border-slate-200 draggable-row ${n?"is-important":""}`,a.id=l,a.draggable=!0,a.onclick=()=>u(l),a.innerHTML=`
        <td class="border p-0 text-center drag-handle font-bold text-slate-300">⠿</td>
        <td class="border p-0"><input type="text" class="w-full px-2 compact-input text-enemy outline-none" value="${t}" placeholder=""></td>
        <td class="border p-0"><div class="flex flex-wrap gap-0.5 buff-container min-h-[36px] items-center px-1"></div></td>
        <td class="border p-0"><input type="text" class="w-full px-2 compact-input text-memo outline-none" value="${e}" placeholder=""></td>
        <td class="border p-0 text-center">
            <button onclick="toggleImportant('${l}')" class="text-lg toggle-btn">${n?"⭐":"☆"}</button>
        </td>
        <td class="border p-0 text-center"><button onclick="document.getElementById('${l}').remove()" class="text-slate-300 hover:text-red-500 text-xs px-2">✕</button></td>
    `,r.appendChild(a);const g=a.querySelector(".buff-container");o.forEach(f=>_(g,f)),u(l)};window.toggleImportant=function(t){const o=document.getElementById(t),e=o.querySelector(".toggle-btn"),n=o.classList.toggle("is-important");e.innerText=n?"⭐":"☆"};window.saveData=function(){const t=document.getElementById("bossName").value.trim();if(!t)return alert("ボス名を入力してください");const o=Array.from(document.querySelectorAll("#tableBody tr")).map(e=>({enemySkill:e.querySelector(".text-enemy").value,memo:e.querySelector(".text-memo").value,isImportant:e.classList.contains("is-important"),buffs:Array.from(e.querySelectorAll(".buff-container img")).map(n=>n.dataset.rawSrc)}));localStorage.setItem(`ff14_kanpe_${t}`,JSON.stringify(o)),d(),alert(`「${t}」を保存しました`)};window.loadData=function(){const t=document.getElementById("saveList").value;if(!t)return;const o=localStorage.getItem(`ff14_kanpe_${t}`);o&&(document.getElementById("tableBody").innerHTML="",JSON.parse(o).forEach(e=>window.addRow(e.enemySkill,e.buffs,e.memo,e.isImportant)),document.getElementById("bossName").value=t)};window.deleteData=function(){const t=document.getElementById("saveList").value;!t||!confirm(`「${t}」を削除しますか？`)||(localStorage.removeItem(`ff14_kanpe_${t}`),d(),window.clearCurrentTable(!0))};window.clearCurrentTable=function(t){document.getElementById("tableBody").innerHTML="",t&&(document.getElementById("bossName").value="",window.addRow())};window.showJob=function(t){const o=document.getElementById("iconPalette");o.innerHTML="",i[t]&&i[t].forEach(e=>{const n=document.createElement("img");n.src=e.file,n.className="icon-btn w-10 h-10 cursor-pointer rounded bg-slate-800 p-0.5 border border-slate-700 shadow-sm",n.title=e.name,n.onclick=r=>{r.stopPropagation(),Y(e.file)},o.appendChild(n)})};function u(t){s=t,document.querySelectorAll("#tableBody tr").forEach(e=>e.classList.remove("selected-row"));const o=document.getElementById(t);o&&o.classList.add("selected-row")}function Y(t){s&&_(document.querySelector(`#${s} .buff-container`),t)}function _(t,o){const e=document.createElement("img");e.src=o,e.dataset.rawSrc=o,e.className="buff-icon",e.onclick=n=>{n.stopPropagation(),e.remove()},t.appendChild(e)}function d(){const t=document.getElementById("saveList");if(!t)return;t.innerHTML='<option value="">-- 保存済データ --</option>';const o=[];for(let e=0;e<localStorage.length;e++){const n=localStorage.key(e);n&&n.startsWith("ff14_kanpe_")&&o.push(n.replace("ff14_kanpe_",""))}o.sort().forEach(e=>t.add(new Option(e,e)))}function F(){const t=document.getElementById("tableBody");t.addEventListener("dragstart",o=>{const e=o.target.closest("tr");e&&(e.classList.add("dragging"),o.dataTransfer.effectAllowed="move")}),t.addEventListener("dragend",o=>{const e=o.target.closest("tr");e&&e.classList.remove("dragging")}),t.addEventListener("dragover",o=>{o.preventDefault();const e=document.querySelector(".dragging"),n=o.target.closest("tr");if(n&&n!==e){const r=n.getBoundingClientRect(),l=(o.clientY-r.top)/(r.bottom-r.top)>.5;t.insertBefore(e,l?n.nextSibling:n)}})}function W(){const t=document.getElementById("jobTabs");if(!t)return;t.innerHTML="";const o=Object.keys(i).sort();if(o.forEach(e=>{const n=document.createElement("button");n.innerText=e,n.className="w-full text-left px-3 py-1.5 rounded text-[10px] font-bold transition-all bg-slate-800 text-slate-400 hover:bg-slate-700 hover:text-white mb-0.5",n.onclick=()=>{document.querySelectorAll("#jobTabs button").forEach(r=>{r.classList.remove("bg-blue-700","text-white"),r.classList.add("bg-slate-800","text-slate-400")}),n.classList.add("bg-blue-700","text-white"),n.classList.remove("bg-slate-800","text-slate-400"),window.showJob(e)},t.appendChild(n)}),o.length>0){const e=t.firstChild;e&&e.click()}}document.addEventListener("DOMContentLoaded",()=>{d(),W(),window.addRow(),F()});
