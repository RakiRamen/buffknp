(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const s of l.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function e(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerPolicy&&(l.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?l.credentials="include":r.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(r){if(r.ep)return;r.ep=!0;const l=e(r);fetch(r.href,l)}})();const p="/assets/Dark_Mind-DBsGP-kP.png",b=Object.freeze(Object.defineProperty({__proto__:null,default:p},Symbol.toStringTag,{value:"Module"})),m="/assets/Dark_Missionary-vPSZIJuC.png",y=Object.freeze(Object.defineProperty({__proto__:null,default:m},Symbol.toStringTag,{value:"Module"})),v="/assets/Living_Dead-y6AbX0wn.png",S=Object.freeze(Object.defineProperty({__proto__:null,default:v},Symbol.toStringTag,{value:"Module"})),w="/assets/Oblation-8xV2dEaY.png",h=Object.freeze(Object.defineProperty({__proto__:null,default:w},Symbol.toStringTag,{value:"Module"})),O="/assets/Shadowed_Vigil-wtMZcRhC.png",T=Object.freeze(Object.defineProperty({__proto__:null,default:O},Symbol.toStringTag,{value:"Module"})),j="/assets/The_Blackest_Night-llZDtqHS.png",x=Object.freeze(Object.defineProperty({__proto__:null,default:j},Symbol.toStringTag,{value:"Module"})),L="/assets/Aurora-t3JTxq-F.png",B=Object.freeze(Object.defineProperty({__proto__:null,default:L},Symbol.toStringTag,{value:"Module"})),E="/assets/Heart_of_Corundum-DNuQfFTC.png",N=Object.freeze(Object.defineProperty({__proto__:null,default:E},Symbol.toStringTag,{value:"Module"})),I="/assets/Heart_of_Light-Gk1iGjqU.png",M=Object.freeze(Object.defineProperty({__proto__:null,default:I},Symbol.toStringTag,{value:"Module"})),k="/assets/Superbolide-CVhSZdjx.png",P=Object.freeze(Object.defineProperty({__proto__:null,default:k},Symbol.toStringTag,{value:"Module"})),D="/assets/Interject-DYbtgt1N.png",A=Object.freeze(Object.defineProperty({__proto__:null,default:D},Symbol.toStringTag,{value:"Module"})),C="/assets/Low_Blow-BbuGOwKR.png",z=Object.freeze(Object.defineProperty({__proto__:null,default:C},Symbol.toStringTag,{value:"Module"})),R="/assets/Provoke-CmYZ58v9.png",q=Object.freeze(Object.defineProperty({__proto__:null,default:R},Symbol.toStringTag,{value:"Module"})),K="/assets/Shirk-DLC_7bL4.png",H=Object.freeze(Object.defineProperty({__proto__:null,default:K},Symbol.toStringTag,{value:"Module"})),$="/assets/armslength-IW1dOkif.png",G=Object.freeze(Object.defineProperty({__proto__:null,default:$},Symbol.toStringTag,{value:"Module"})),J="/assets/rampart-BExEwZPx.png",Z=Object.freeze(Object.defineProperty({__proto__:null,default:J},Symbol.toStringTag,{value:"Module"})),V="/assets/reprisal-G_56GzpX.png",Y=Object.freeze(Object.defineProperty({__proto__:null,default:V},Symbol.toStringTag,{value:"Module"})),c=Object.assign({"./icons/DRK/Dark_Mind.png":b,"./icons/DRK/Dark_Missionary.png":y,"./icons/DRK/Living_Dead.png":S,"./icons/DRK/Oblation.png":h,"./icons/DRK/Shadowed_Vigil.png":T,"./icons/DRK/The_Blackest_Night.png":x,"./icons/GNB/Aurora.png":B,"./icons/GNB/Heart_of_Corundum.png":N,"./icons/GNB/Heart_of_Light.png":M,"./icons/GNB/Superbolide.png":P,"./icons/TANK/Interject.png":A,"./icons/TANK/Low_Blow.png":z,"./icons/TANK/Provoke.png":q,"./icons/TANK/Shirk.png":H,"./icons/TANK/armslength.png":G,"./icons/TANK/rampart.png":Z,"./icons/TANK/reprisal.png":Y}),a={};for(const t in c){const o=t.split("/"),e=o[o.length-2],n=o[o.length-1].replace(".png","");a[e]||(a[e]=[]);const r=c[t].default||c[t];a[e].push({name:n,file:r})}let i=null;window.addRow=function(t="",o=[],e="",n=!1){const r=document.getElementById("tableBody"),l="row-"+Date.now()+Math.random().toString(36).substr(2,5),s=document.createElement("tr");s.className=`border-b border-slate-200 draggable-row ${n?"is-important":""}`,s.id=l,s.draggable=!0,s.onclick=()=>u(l),s.innerHTML=`
        <td class="border p-0 text-center drag-handle font-bold text-slate-300">⠿</td>
        <td class="border p-0"><input type="text" class="w-full px-2 compact-input text-enemy outline-none" value="${t}" placeholder=""></td>
        <td class="border p-0"><div class="flex flex-wrap gap-0.5 buff-container min-h-[36px] items-center px-1"></div></td>
        <td class="border p-0"><input type="text" class="w-full px-2 compact-input text-memo outline-none" value="${e}" placeholder=""></td>
        <td class="border p-0 text-center">
            <button onclick="toggleImportant('${l}')" class="text-lg toggle-btn">${n?"⭐":"☆"}</button>
        </td>
        <td class="border p-0 text-center"><button onclick="document.getElementById('${l}').remove()" class="text-slate-300 hover:text-red-500 text-xs px-2">✕</button></td>
    `,r.appendChild(s);const g=s.querySelector(".buff-container");o.forEach(f=>_(g,f)),u(l)};window.toggleImportant=function(t){const o=document.getElementById(t),e=o.querySelector(".toggle-btn"),n=o.classList.toggle("is-important");e.innerText=n?"⭐":"☆"};window.saveData=function(){const t=document.getElementById("bossName").value.trim();if(!t)return alert("ボス名を入力してください");const o=Array.from(document.querySelectorAll("#tableBody tr")).map(e=>({enemySkill:e.querySelector(".text-enemy").value,memo:e.querySelector(".text-memo").value,isImportant:e.classList.contains("is-important"),buffs:Array.from(e.querySelectorAll(".buff-container img")).map(n=>n.dataset.rawSrc)}));localStorage.setItem(`ff14_kanpe_${t}`,JSON.stringify(o)),d(),alert(`「${t}」を保存しました`)};window.loadData=function(){const t=document.getElementById("saveList").value;if(!t)return;const o=localStorage.getItem(`ff14_kanpe_${t}`);o&&(document.getElementById("tableBody").innerHTML="",JSON.parse(o).forEach(e=>window.addRow(e.enemySkill,e.buffs,e.memo,e.isImportant)),document.getElementById("bossName").value=t)};window.deleteData=function(){const t=document.getElementById("saveList").value;!t||!confirm(`「${t}」を削除しますか？`)||(localStorage.removeItem(`ff14_kanpe_${t}`),d(),window.clearCurrentTable(!0))};window.clearCurrentTable=function(t){document.getElementById("tableBody").innerHTML="",t&&(document.getElementById("bossName").value="",window.addRow())};window.showJob=function(t){const o=document.getElementById("iconPalette");o.innerHTML="",a[t]&&a[t].forEach(e=>{const n=document.createElement("img");n.src=e.file,n.className="icon-btn w-10 h-10 cursor-pointer rounded bg-slate-800 p-0.5 border border-slate-700 shadow-sm",n.title=e.name,n.onclick=r=>{r.stopPropagation(),F(e.file)},o.appendChild(n)})};function u(t){i=t,document.querySelectorAll("#tableBody tr").forEach(e=>e.classList.remove("selected-row"));const o=document.getElementById(t);o&&o.classList.add("selected-row")}function F(t){i&&_(document.querySelector(`#${i} .buff-container`),t)}function _(t,o){const e=document.createElement("img");e.src=o,e.dataset.rawSrc=o,e.className="buff-icon",e.onclick=n=>{n.stopPropagation(),e.remove()},t.appendChild(e)}function d(){const t=document.getElementById("saveList");if(!t)return;t.innerHTML='<option value="">-- 保存済データ --</option>';const o=[];for(let e=0;e<localStorage.length;e++){const n=localStorage.key(e);n&&n.startsWith("ff14_kanpe_")&&o.push(n.replace("ff14_kanpe_",""))}o.sort().forEach(e=>t.add(new Option(e,e)))}function W(){const t=document.getElementById("tableBody");t.addEventListener("dragstart",o=>{const e=o.target.closest("tr");e&&(e.classList.add("dragging"),o.dataTransfer.effectAllowed="move")}),t.addEventListener("dragend",o=>{const e=o.target.closest("tr");e&&e.classList.remove("dragging")}),t.addEventListener("dragover",o=>{o.preventDefault();const e=document.querySelector(".dragging"),n=o.target.closest("tr");if(n&&n!==e){const r=n.getBoundingClientRect(),l=(o.clientY-r.top)/(r.bottom-r.top)>.5;t.insertBefore(e,l?n.nextSibling:n)}})}function X(){const t=document.getElementById("jobTabs");if(!t)return;t.innerHTML="";const o=Object.keys(a).sort();if(o.forEach(e=>{const n=document.createElement("button");n.innerText=e,n.className="w-full text-left px-3 py-1.5 rounded text-[10px] font-bold transition-all bg-slate-800 text-slate-400 hover:bg-slate-700 hover:text-white mb-0.5",n.onclick=()=>{document.querySelectorAll("#jobTabs button").forEach(r=>{r.classList.remove("bg-blue-700","text-white"),r.classList.add("bg-slate-800","text-slate-400")}),n.classList.add("bg-blue-700","text-white"),n.classList.remove("bg-slate-800","text-slate-400"),window.showJob(e)},t.appendChild(n)}),o.length>0){const e=t.firstChild;e&&e.click()}}document.addEventListener("DOMContentLoaded",()=>{d(),X(),window.addRow(),W()});
